<% layout('layout') -%>

<section class="row g-4">
  <div class="col-12 col-lg-4">
    <div class="card glassy p-4 elevate" data-animate="fade-up">
      <h2 class="h5 fw-bold mb-3"><i class="fa-regular fa-id-badge me-2"></i> Profile</h2>
      <% if (user) { %>
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="avatar-glow">
            <i class="fa-brands fa-x-twitter fa-2xl"></i>
          </div>
          <div>
            <div class="fw-semibold">@<%= user.username %></div>
            <div class="text-secondary"><%= user.name %> • ID: <%= user.id %></div>
          </div>
        </div>
      <% } %>

      <form method="post" action="/refresh" class="d-grid">
        <button class="btn btn-outline-info"><i class="fa-solid fa-arrows-rotate me-2"></i> Refresh Token</button>
      </form>
    </div>
  </div>

  <div class="col-12 col-lg-8">
    <div class="card glassy p-4 elevate" data-animate="fade-up">
      <h2 class="h5 fw-bold mb-3"><i class="fa-solid fa-screwdriver-wrench me-2"></i> Tools</h2>

      <div class="row g-3">
        <div class="col-12">
          <label class="form-label fw-semibold">Post Tweet (opsional)</label>
          <form class="row g-2 align-items-center" method="post" action="/tweet">
            <div class="col-12 col-md">
              <input class="form-control" name="text" placeholder="Apa yang sedang terjadi?">
            </div>
            <div class="col-12 col-md-auto d-grid">
              <button class="btn btn-primary"><i class="fa-regular fa-paper-plane me-2"></i>Kirim</button>
            </div>
          </form>
        </div>

        <div class="col-12">
          <hr class="my-2"/>
        </div>

        <div class="col-12">
          <div class="d-flex flex-wrap align-items-center gap-2">
            <button id="btnDeleteAll" class="btn btn-danger pulse">
              <i class="fa-solid fa-trash-can me-2"></i> Delete All Tweets
            </button>
            <button id="btnCancel" class="btn btn-outline-light" disabled>
              <i class="fa-solid fa-ban me-2"></i> Cancel
            </button>
          </div>
          <p class="text-secondary small mt-2">
            Aksi ini akan menghapus tweet batch demi batch (≈100/halaman). Progres ditampilkan realtime.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
